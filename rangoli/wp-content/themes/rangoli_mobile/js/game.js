var wh = $(window).height();
var ww=$(window).width();
var li_height = wh/3 + (wh/6);
var slide_amount = li_height*1.5;
var ul_margin_top = ((wh - 44)/4) *-1;
var color_shade;
var color_main;


$(window).resize(function(){
    var wh = $(window).height();
    var ww=$(window).width();
    var li_height = wh/3 + (wh/6);
    var slide_amount = li_height*1.5;
    ul_margin_top = ((wh - 44)/4) *-1;
    $(".color-game ul").css("margin-top",ul_margin_top);

    $(".color-game li").height(li_height);
    var h = $(".color-game li div").height();
    $(".color-game li div").width(h);
    $(".journey").height(wh);
    $(".color-game").height(wh);

});
var flower = '<div id="anim_flower" class="shades"><svg viewBox="0 0 432 391" height="100%" width="100%" y="0px" x="0px" id="flower" version="1.1"><path d="M128.347,195.682c0-35.442-28.732-64.174-64.174-64.174C28.732,131.507,0,160.239,0,195.682 c0,35.441,28.732,64.173,64.173,64.173C99.615,259.854,128.347,231.123,128.347,195.682" fill="#ff7a00" class="shade"/><path d="M172.18,271.603c-30.693-17.721-69.941-7.204-87.662,23.489c-17.721,30.693-7.204,69.941,23.489,87.662 c30.694,17.722,69.941,7.205,87.662-23.489C213.391,328.571,202.874,289.323,172.18,271.603" fill="#ff9c45" class="shade"/><path d="M259.847,271.603c-30.693,17.721-41.211,56.969-23.489,87.662c17.721,30.694,56.968,41.211,87.663,23.489 c30.693-17.721,41.209-56.969,23.488-87.662S290.54,253.882,259.847,271.603" fill="#f07400" class="shade"/><path d="M303.68,195.682c0,35.441,28.731,64.173,64.173,64.173c35.442,0,64.173-28.731,64.173-64.173 c0-35.442-28.73-64.174-64.173-64.174C332.411,131.507,303.68,160.239,303.68,195.682" fill="#ff5e00" class="shade"/><path d="M259.847,119.76c30.693,17.721,69.941,7.205,87.662-23.489c17.721-30.694,7.205-69.941-23.488-87.662 c-30.695-17.722-69.942-7.205-87.663,23.489C218.636,62.791,229.153,102.04,259.847,119.76" fill="#ff4900" class="shade"/><path d="M172.18,119.76c30.694-17.72,41.211-56.969,23.489-87.662C177.947,1.404,138.701-9.113,108.006,8.609 C77.313,26.33,66.796,65.577,84.518,96.271C102.238,126.965,141.486,137.48,172.18,119.76" fill="#ff9d00" class="shade"/></svg><svg viewBox="0 0 432 391" height="100%" width="100%" y="0px" x="0px" class="bgsvg" version="1.1"><path d="M128.347,195.682c0-35.442-28.732-64.174-64.174-64.174C28.732,131.507,0,160.239,0,195.682 c0,35.441,28.732,64.173,64.173,64.173C99.615,259.854,128.347,231.123,128.347,195.682" fill="#ff7a00" class="shade"/><path d="M172.18,271.603c-30.693-17.721-69.941-7.204-87.662,23.489c-17.721,30.693-7.204,69.941,23.489,87.662 c30.694,17.722,69.941,7.205,87.662-23.489C213.391,328.571,202.874,289.323,172.18,271.603" fill="#ff9c45" class="shade"/><path d="M259.847,271.603c-30.693,17.721-41.211,56.969-23.489,87.662c17.721,30.694,56.968,41.211,87.663,23.489 c30.693-17.721,41.209-56.969,23.488-87.662S290.54,253.882,259.847,271.603" fill="#f07400" class="shade"/><path d="M303.68,195.682c0,35.441,28.731,64.173,64.173,64.173c35.442,0,64.173-28.731,64.173-64.173 c0-35.442-28.73-64.174-64.173-64.174C332.411,131.507,303.68,160.239,303.68,195.682" fill="#ff5e00" class="shade"/><path d="M259.847,119.76c30.693,17.721,69.941,7.205,87.662-23.489c17.721-30.694,7.205-69.941-23.488-87.662 c-30.695-17.722-69.942-7.205-87.663,23.489C218.636,62.791,229.153,102.04,259.847,119.76" fill="#ff4900" class="shade"/><path d="M172.18,119.76c30.694-17.72,41.211-56.969,23.489-87.662C177.947,1.404,138.701-9.113,108.006,8.609 C77.313,26.33,66.796,65.577,84.518,96.271C102.238,126.965,141.486,137.48,172.18,119.76" fill="#ff9d00" class="shade"/><path d="M367.755,223.273l22.571-29.15c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378,5.542-12.378,12.378c0-6.836-5.542-12.378-12.38-12.378 c-6.836,0-12.377,5.542-12.377,12.378c0,2.671,0.846,5.144,2.283,7.166L367.755,223.273z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M64.074,223.273l22.572-29.15c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378c-6.836,0-12.378,5.542-12.378,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.671,0.846,5.144,2.284,7.166L64.074,223.273z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M139.995,355.957l22.572-29.15c1.438-2.021,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378,5.542-12.378,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.671,0.846,5.145,2.284,7.166L139.995,355.957z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M291.835,355.957l22.571-29.15c1.438-2.021,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.379,5.542-12.379,12.378c0-6.836-5.541-12.378-12.379-12.378 c-6.836,0-12.377,5.542-12.377,12.378c0,2.671,0.846,5.145,2.283,7.166L291.835,355.957z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M139.995,92.336l22.572-29.15c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378,5.542-12.378,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.671,0.846,5.144,2.284,7.166L139.995,92.336z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M291.835,92.336l22.571-29.15c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.379,5.542-12.379,12.378c0-6.836-5.541-12.378-12.379-12.378 c-6.836,0-12.377,5.542-12.377,12.378c0,2.671,0.846,5.144,2.283,7.166L291.835,92.336z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/></svg></div>';
var traingle = '<div id="anim_triangle" class="shades"><svg viewBox="0 0 443 401" height="100%" width="100%" y="0px" x="0px" id="triangle" version="1.1"><path d="M125.559, 337.724c0, 34.673-28.108, 62.78-62.78, 62.78S0, 372.396, 0, 337.724 c0-34.672, 28.107-62.779, 62.779-62.779S125.559, 303.052, 125.559, 337.724" fill="#ffbd00" class="shade"/><path d="M284.203, 62.78c0, 34.672-28.107, 62.78-62.78, 62.78c-34.672, 0-62.779-28.108-62.779-62.78 C158.644, 28.108, 186.75, 0, 221.423, 0C256.096, 0, 284.203, 28.108, 284.203, 62.78" fill="#FFFF3D" class="shade"/><path d="M205.02, 200.252c0, 34.672-28.108, 62.779-62.78, 62.779c-34.672, 0-62.779-28.107-62.779-62.779 c0-34.673, 28.107-62.78, 62.779-62.78C176.912, 137.472, 205.02, 165.579, 205.02, 200.252" fill="#ffe600" class="shade"/><path d="M364.178, 200.252c0, 34.672-28.107, 62.779-62.779, 62.779c-34.673, 0-62.78-28.107-62.78-62.779 c0-34.673, 28.107-62.78, 62.78-62.78C336.07, 137.472, 364.178, 165.579, 364.178, 200.252" fill="#ffd700" class="shade"/><path d="M284.203, 337.724c0, 34.673-28.107, 62.78-62.78, 62.78c-34.672, 0-62.779-28.107-62.779-62.78 c0-34.672, 28.107-62.779, 62.779-62.779C256.096, 274.944, 284.203, 303.052, 284.203, 337.724" fill="#ffdf53" class="shade"/><path d="M442.847, 337.724c0, 34.673-28.108, 62.78-62.78, 62.78s-62.778-28.107-62.778-62.78 c0-34.672, 28.106-62.779, 62.778-62.779S442.847, 303.052, 442.847, 337.724" fill="#f0da4f" class="shade"/></svg><svg viewBox="0 0 443 401" height="100%" width="100%" y="0px" x="0px" class="bgsvg" version="1.1"><path d="M125.559, 337.724c0, 34.673-28.108, 62.78-62.78, 62.78S0, 372.396, 0, 337.724 c0-34.672, 28.107-62.779, 62.779-62.779S125.559, 303.052, 125.559, 337.724" fill="#ffbd00" class="shade"/><path d="M284.203, 62.78c0, 34.672-28.107, 62.78-62.78, 62.78c-34.672, 0-62.779-28.108-62.779-62.78 C158.644, 28.108, 186.75, 0, 221.423, 0C256.096, 0, 284.203, 28.108, 284.203, 62.78" fill="#FFFF3D" class="shade"/><path d="M205.02, 200.252c0, 34.672-28.108, 62.779-62.78, 62.779c-34.672, 0-62.779-28.107-62.779-62.779 c0-34.673, 28.107-62.78, 62.779-62.78C176.912, 137.472, 205.02, 165.579, 205.02, 200.252" fill="#ffe600" class="shade"/><path d="M364.178, 200.252c0, 34.672-28.107, 62.779-62.779, 62.779c-34.673, 0-62.78-28.107-62.78-62.779 c0-34.673, 28.107-62.78, 62.78-62.78C336.07, 137.472, 364.178, 165.579, 364.178, 200.252" fill="#ffd700" class="shade"/><path d="M284.203, 337.724c0, 34.673-28.107, 62.78-62.78, 62.78c-34.672, 0-62.779-28.107-62.779-62.78 c0-34.672, 28.107-62.779, 62.779-62.779C256.096, 274.944, 284.203, 303.052, 284.203, 337.724" fill="#ffdf53" class="shade"/><path d="M442.847, 337.724c0, 34.673-28.108, 62.78-62.78, 62.78s-62.778-28.107-62.778-62.78 c0-34.672, 28.106-62.779, 62.778-62.779S442.847, 303.052, 442.847, 337.724" fill="#f0da4f" class="shade"/><path d="M301.299, 228.972l22.572-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.379, 5.542-12.379, 12.378c0, 2.671, 0.847, 5.144, 2.285, 7.166L301.299, 228.972z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M142.142, 228.972l22.572-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378c-6.836, 0-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.144, 2.284, 7.166L142.142, 228.972z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M221.325, 92.279l22.572-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.144, 2.284, 7.166L221.325, 92.279z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M62.681, 367.085l22.572-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.145, 2.284, 7.166L62.681, 367.085z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M221.325, 367.085l22.572-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.145, 2.284, 7.166L221.325, 367.085z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M379.969, 367.085l22.572-29.15c1.438-2.021, 2.282-4.495, 2.282-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.145, 2.284, 7.166L379.969, 367.085z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/></svg></div>';
var donut = '<div id="anim_donut" class="shades"><svg viewBox="0 0 431 431" height="100%" width="100%" y="0px" x="0px" id="donut" version="1.1"><path d="M290.738, 215.624L290.738, 215.624l140.51, 0.001c0-78.999-39.127-146.501-107.812-186l-70.26, 121.213 C275.626, 163.774, 290.738, 187.934, 290.738, 215.624" fill="#7767c8" class="shade"/><path d="M215.623, 140.805c13.686, 0, 26.504, 3.663, 37.554, 10.032l70.26-121.212c-68.687-39.5-146.938-39.5-215.624, 0 l70.259, 121.211C189.12, 144.468, 201.939, 140.805, 215.623, 140.805" fill="#6f3bbe" class="shade"/><path d="M140.509, 215.624c0-27.691, 15.114-51.849, 37.562-64.787L107.813, 29.625C39.126, 69.124, 0, 136.625, 0, 215.625 L140.509, 215.624L140.509, 215.624z" fill="#802780" class="shade"/><path d="M140.509, 215.625H0c0, 78.998, 39.126, 146.5, 107.813, 186l70.258-121.213 C155.623, 267.474, 140.509, 243.313, 140.509, 215.625" fill="#801f63" class="shade"/><path d="M215.623, 290.442c-13.684, 0-26.503-3.663-37.552-10.03l-70.259, 121.212 c68.685, 39.499, 146.938, 39.499, 215.624, 0l-70.26-121.213C242.127, 286.779, 229.309, 290.442, 215.623, 290.442" fill="#5e1567" class="shade"/><path d="M290.738, 215.625c0, 27.689-15.113, 51.848-37.562, 64.786l70.26, 121.214 c68.685-39.5, 107.812-107.002, 107.812-186H290.738z" fill="#440076" class="shade"/></svg><svg viewBox="0 0 431 431" height="100%" width="100%" y="0px" x="0px" class="bgsvg" version="1.1"><path d="M290.738, 215.624L290.738, 215.624l140.51, 0.001c0-78.999-39.127-146.501-107.812-186l-70.26, 121.213 C275.626, 163.774, 290.738, 187.934, 290.738, 215.624" fill="#7767c8" class="shade"/><path d="M215.623, 140.805c13.686, 0, 26.504, 3.663, 37.554, 10.032l70.26-121.212c-68.687-39.5-146.938-39.5-215.624, 0 l70.259, 121.211C189.12, 144.468, 201.939, 140.805, 215.623, 140.805" fill="#6f3bbe" class="shade"/><path d="M140.509, 215.624c0-27.691, 15.114-51.849, 37.562-64.787L107.813, 29.625C39.126, 69.124, 0, 136.625, 0, 215.625 L140.509, 215.624L140.509, 215.624z" fill="#802780" class="shade"/><path d="M140.509, 215.625H0c0, 78.998, 39.126, 146.5, 107.813, 186l70.258-121.213 C155.623, 267.474, 140.509, 243.313, 140.509, 215.625" fill="#801f63" class="shade"/><path d="M215.623, 290.442c-13.684, 0-26.503-3.663-37.552-10.03l-70.259, 121.212 c68.685, 39.499, 146.938, 39.499, 215.624, 0l-70.26-121.213C242.127, 286.779, 229.309, 290.442, 215.623, 290.442" fill="#5e1567" class="shade"/><path d="M290.738, 215.625c0, 27.689-15.113, 51.848-37.562, 64.786l70.26, 121.214 c68.685-39.5, 107.812-107.002, 107.812-186H290.738z" fill="#440076" class="shade"/><path d="M215.525, 101.105l22.572-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.379-12.378c-6.836, 0-12.377, 5.542-12.377, 12.378c0-6.836-5.543-12.378-12.379-12.378 c-6.837, 0-12.379, 5.542-12.379, 12.378c0, 2.671, 0.847, 5.144, 2.284, 7.166L215.525, 101.105z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M342.113, 176.059l22.572-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.379, 5.542-12.379, 12.378c0, 2.671, 0.847, 5.144, 2.285, 7.166L342.113, 176.059z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M88.938, 176.059l22.571-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378s-12.378, 5.542-12.378, 12.378 c0, 2.671, 0.846, 5.144, 2.283, 7.166L88.938, 176.059z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M342.113, 309.758l22.572-29.15c1.438-2.021, 2.283-4.494, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.379, 5.542-12.379, 12.378c0, 2.672, 0.847, 5.145, 2.285, 7.166L342.113, 309.758z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M215.525, 384.177l22.572-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.379-12.378c-6.836, 0-12.377, 5.542-12.377, 12.378c0-6.836-5.543-12.378-12.379-12.378 c-6.837, 0-12.379, 5.542-12.379, 12.378c0, 2.671, 0.847, 5.145, 2.284, 7.166L215.525, 384.177z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M88.938, 309.758l22.571-29.15c1.438-2.021, 2.283-4.494, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378s-12.378, 5.542-12.378, 12.378 c0, 2.672, 0.846, 5.145, 2.283, 7.166L88.938, 309.758z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/></svg></div>';
var hexa = '<div id="anim_hexa" class="shades"><svg viewBox="0 0 432 374" height="100%" width="100%" y="0px" x="0px" id="hexa" version="1.1"><polygon points="107.927, 373.87 215.854, 186.935 323.78, 373.87 " fill="#2400ff" class="shade"/><polygon points="323.781, 373.87 215.854, 186.935 431.708, 186.935 " fill="#007eff" class="shade"/><polygon points="431.708, 186.935 215.854, 186.935 323.781, 0 " fill="#86e2ff" class="shade"/><polygon points="323.781, 0 215.854, 186.935 107.927, 0 " fill="#00ceff" class="shade"/><polygon points="107.927, 0 215.854, 186.935 0, 186.935 " fill="#000075" class="shade"/><polygon points="0, 186.935 215.854, 186.935 107.927, 373.871 " fill="#004fff" class="shade"/></svg><svg viewBox="0 0 432 374" height="100%" width="100%" y="0px" x="0px" class="bgsvg" version="1.1"><polygon points="107.927, 373.87 215.854, 186.935 323.78, 373.87 " fill="#2400ff" class="shade"/><polygon points="323.781, 373.87 215.854, 186.935 431.708, 186.935 " fill="#007eff" class="shade"/><polygon points="431.708, 186.935 215.854, 186.935 323.781, 0 " fill="#86e2ff" class="shade"/><polygon points="323.781, 0 215.854, 186.935 107.927, 0 " fill="#00ceff" class="shade"/><polygon points="107.927, 0 215.854, 186.935 0, 186.935 " fill="#000075" class="shade"/><polygon points="0, 186.935 215.854, 186.935 107.927, 373.871 " fill="#004fff" class="shade"/><path d="M215.755, 333.038l22.571-29.149c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.541-12.378-12.378-12.378c-6.836, 0-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.847, 5.144, 2.284, 7.166L215.755, 333.038z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M215.755, 101.479l22.571-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.541-12.378-12.378-12.378c-6.836, 0-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.847, 5.144, 2.284, 7.166L215.755, 101.479z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M107.828, 155.898l22.571-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.144, 2.284, 7.166L107.828, 155.898z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M116.047, 271.767l22.571-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378s-12.378, 5.542-12.378, 12.378 c0, 2.671, 0.846, 5.145, 2.283, 7.166L116.047, 271.767z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M319.91, 151.639l22.571-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378s-12.378, 5.542-12.378, 12.378 c0, 2.671, 0.846, 5.144, 2.283, 7.166L319.91, 151.639z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M323.682, 271.767l22.572-29.15c1.438-2.021, 2.283-4.494, 2.283-7.166 c0-6.836-5.542-12.378-12.379-12.378c-6.836, 0-12.377, 5.542-12.377, 12.378c0-6.836-5.543-12.378-12.379-12.378 c-6.837, 0-12.379, 5.542-12.379, 12.378c0, 2.672, 0.847, 5.145, 2.284, 7.166L323.682, 271.767z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/></svg></div>';
var pie = '<div id="anim_pie" class="shades"><svg viewBox="0 0 431 431" height="100%" width="100%" y="0px" x="0px" id="pie" version="1.1"><path d="M215.624, 215.625l107.812-186c68.687, 39.499, 107.813, 107.001, 107.813, 186H215.624z" fill="#a0e900" class="shade"/><path d="M215.624, 215.625l-107.812, 186c68.686, 39.498, 146.939, 39.498, 215.624, 0L215.624, 215.625z" fill="#006500" class="shade"/><path d="M215.624, 215.625H0c0-78.999, 39.127-146.501, 107.812-186L215.624, 215.625z" fill="#009e34" class="shade"/><path d="M215.624, 215.625l-107.812, 186C39.127, 362.124, 0, 294.622, 0, 215.625H215.624z" fill="#008700" class="shade"/><path d="M215.624, 215.625l107.812-186c-68.685-39.499-146.938-39.499-215.624, 0L215.624, 215.625z" fill="#86d979" class="shade"/><path d="M215.624, 215.625h215.624c0, 78.998-39.127, 146.5-107.813, 186L215.624, 215.625z" fill="#4eb800" class="shade"/></svg><svg viewBox="0 0 431 431" height="100%" width="100%" y="0px" x="0px" class="bgsvg" version="1.1"><path d="M215.624, 215.625l107.812-186c68.687, 39.499, 107.813, 107.001, 107.813, 186H215.624z" fill="#a0e900" class="shade"/><path d="M215.624, 215.625l-107.812, 186c68.686, 39.498, 146.939, 39.498, 215.624, 0L215.624, 215.625z" fill="#006500" class="shade"/><path d="M215.624, 215.625H0c0-78.999, 39.127-146.501, 107.812-186L215.624, 215.625z" fill="#009e34" class="shade"/><path d="M215.624, 215.625l-107.812, 186C39.127, 362.124, 0, 294.622, 0, 215.625H215.624z" fill="#008700" class="shade"/><path d="M215.624, 215.625l107.812-186c-68.685-39.499-146.938-39.499-215.624, 0L215.624, 215.625z" fill="#86d979" class="shade"/><path d="M215.624, 215.625h215.624c0, 78.998-39.127, 146.5-107.813, 186L215.624, 215.625z" fill="#4eb800" class="shade"/><path d="M214.223, 371.131l22.572-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.543-12.378-12.379-12.378s-12.377, 5.542-12.377, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.144, 2.284, 7.166L214.223, 371.131z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M323.338, 301.884l22.571-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.379, 5.542-12.379, 12.378c0-6.836-5.541-12.378-12.379-12.378 c-6.836, 0-12.377, 5.542-12.377, 12.378c0, 2.671, 0.846, 5.145, 2.283, 7.166L323.338, 301.884z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M326.345, 183.106l22.572-29.15c1.438-2.022, 2.282-4.495, 2.282-7.166 c0-6.836-5.541-12.378-12.377-12.378s-12.379, 5.542-12.379, 12.378c0-6.836-5.541-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.847, 5.144, 2.284, 7.166L326.345, 183.106z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M214.223, 109.996l22.572-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.543-12.378-12.379-12.378s-12.377, 5.542-12.377, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.144, 2.284, 7.166L214.223, 109.996z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M95.992, 183.106l22.572-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378c-6.836, 0-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.144, 2.284, 7.166L95.992, 183.106z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M95.992, 301.884l22.572-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378c-6.836, 0-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.145, 2.284, 7.166L95.992, 301.884z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/></svg></div>';
var circh ='<div id="anim_circh" class="shades"><svg viewBox="0 0 431 431" height="100%" width="100%" y="0px" x="0px" id="circh" version="1.1"><path d="M215.624,0C96.536,0,0,96.537,0,215.626h431.248C431.248,96.537,334.706,0,215.624,0z M74.156,215.419 c0-77.689,63.244-140.669,141.265-140.669c78.017,0,141.265,62.98,141.265,140.669H74.156z" fill="#ff0000" class="shade"/><path d="M215.826,149.703c36.949,0,66.904,29.42,66.906,65.716h73.953c0-77.689-63.248-140.669-141.265-140.669 c-78.021,0-141.265,62.98-141.265,140.669h74.764C148.922,179.123,178.875,149.703,215.826,149.703z" fill="#cc0033" class="shade"/><path d="M357.089,215.626c-0.112,77.597-63.315,140.466-141.263,140.466c-77.951,0-141.15-62.869-141.263-140.466H0 C0,334.71,96.536,431.248,215.624,431.248c119.081,0,215.624-96.537,215.624-215.622H357.089z" fill="#b40000" class="shade"/><path d="M74.561,215.419c0,77.693,63.245,140.673,141.265,140.673c78.017,0,141.266-62.98,141.266-140.673H74.561z M215.421,281.138c-36.952,0-66.906-29.421-66.906-65.716h133.813C282.327,251.717,252.371,281.138,215.421,281.138z" fill="#810000" class="shade"/><path d="M148.92,215.422c0-36.297,29.954-65.719,66.906-65.719c36.951,0,66.906,29.422,66.906,65.719H148.92z" fill="#ff3838" class="shade"/><path d="M282.327,215.422c0,36.295-29.956,65.716-66.906,65.716c-36.952,0-66.906-29.421-66.906-65.716H282.327z" fill="#ff2f53" class="shade"/></svg><svg viewBox="0 0 431 431" height="100%" width="100%" y="0px" x="0px" class="bgsvg" version="1.1"><path d="M215.624,0C96.536,0,0,96.537,0,215.626h431.248C431.248,96.537,334.706,0,215.624,0z M74.156,215.419 c0-77.689,63.244-140.669,141.265-140.669c78.017,0,141.265,62.98,141.265,140.669H74.156z" fill="#ff0000" class="shade"/><path d="M215.826,149.703c36.949,0,66.904,29.42,66.906,65.716h73.953c0-77.689-63.248-140.669-141.265-140.669 c-78.021,0-141.265,62.98-141.265,140.669h74.764C148.922,179.123,178.875,149.703,215.826,149.703z" fill="#cc0033" class="shade"/><path d="M357.089,215.626c-0.112,77.597-63.315,140.466-141.263,140.466c-77.951,0-141.15-62.869-141.263-140.466H0 C0,334.71,96.536,431.248,215.624,431.248c119.081,0,215.624-96.537,215.624-215.622H357.089z" fill="#b40000" class="shade"/><path d="M74.561,215.419c0,77.693,63.245,140.673,141.265,140.673c78.017,0,141.266-62.98,141.266-140.673H74.561z M215.421,281.138c-36.952,0-66.906-29.421-66.906-65.716h133.813C282.327,251.717,252.371,281.138,215.421,281.138z" fill="#810000" class="shade"/><path d="M148.92,215.422c0-36.297,29.954-65.719,66.906-65.719c36.951,0,66.906,29.422,66.906,65.719H148.92z" fill="#ff3838" class="shade"/><path d="M282.327,215.422c0,36.295-29.956,65.716-66.906,65.716c-36.952,0-66.906-29.421-66.906-65.716H282.327z" fill="#ff2f53" class="shade"/><path d="M214.822,418.341l22.572-29.15c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.379-12.378c-6.836,0-12.377,5.542-12.377,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.671,0.846,5.144,2.284,7.166L214.822,418.341z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M215.728,342.735l22.571-29.149c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.541-12.378-12.378-12.378c-6.836,0-12.378,5.542-12.378,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.671,0.846,5.144,2.284,7.166L215.728,342.735z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M214.822,272.627l22.572-29.15c1.438-2.021,2.283-4.494,2.283-7.166 c0-6.836-5.542-12.378-12.379-12.378c-6.836,0-12.377,5.542-12.377,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.672,0.846,5.145,2.284,7.166L214.822,272.627z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M214.822,207.667l22.572-29.15c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.379-12.378c-6.836,0-12.377,5.542-12.377,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.671,0.846,5.144,2.284,7.166L214.822,207.667z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M214.822,137.885l22.572-29.15c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.379-12.378c-6.836,0-12.377,5.542-12.377,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.671,0.846,5.144,2.284,7.166L214.822,137.885z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M214.822,63.551l22.572-29.15c1.438-2.022,2.283-4.495,2.283-7.166 c0-6.836-5.542-12.378-12.379-12.378c-6.836,0-12.377,5.542-12.377,12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836,0-12.378,5.542-12.378,12.378c0,2.671,0.846,5.144,2.284,7.166L214.822,63.551z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/></svg></div>';
var circv = '<div id="anim_circv" class="shades"><svg viewBox="0 0 431 431" height="100%" width="100%" y="0px" x="0px" id="circv" version="1.1"><path d="M12.575, 287.167C42.407, 370.865, 122.049, 430.75, 215.624, 430.75V287.167H12.575z" fill="#a6a8ab" class="shade"/><path d="M215.624, 143.583H12.144C4.288, 166.052, 0, 190.209, 0, 215.375c0, 25.166, 4.287, 49.322, 12.144, 71.792h203.48 V143.583z" fill="#d0d2d3" class="shade"/><path d="M215.624, 0C122.049, 0, 42.407, 59.886, 12.575, 143.583h203.049V0z" fill="#f1f1f2" class="shade"/><path d="M418.674, 287.666h-203.05v143.583C309.2, 431.249, 388.841, 371.362, 418.674, 287.666" fill="#231f20" class="shade"/><path d="M215.624, 287.666h203.482c7.854-22.47, 12.143-46.626, 12.143-71.792c0-25.167-4.288-49.323-12.143-71.792 H215.624V287.666z" fill="#58595b" class="shade"/><path d="M418.674, 144.082C388.841, 60.383, 309.2, 0.498, 215.624, 0.498v143.584H418.674z" fill="#808184" class="shade"/></svg><svg viewBox="0 0 431 431" height="100%" width="100%" y="0px" x="0px" class="bgsvg" version="1.1"><path d="M12.575, 287.167C42.407, 370.865, 122.049, 430.75, 215.624, 430.75V287.167H12.575z" fill="#a6a8ab" class="shade"/><path d="M215.624, 143.583H12.144C4.288, 166.052, 0, 190.209, 0, 215.375c0, 25.166, 4.287, 49.322, 12.144, 71.792h203.48 V143.583z" fill="#d0d2d3" class="shade"/><path d="M215.624, 0C122.049, 0, 42.407, 59.886, 12.575, 143.583h203.049V0z" fill="#f1f1f2" class="shade"/><path d="M418.674, 287.666h-203.05v143.583C309.2, 431.249, 388.841, 371.362, 418.674, 287.666" fill="#231f20" class="shade"/><path d="M215.624, 287.666h203.482c7.854-22.47, 12.143-46.626, 12.143-71.792c0-25.167-4.288-49.323-12.143-71.792 H215.624V287.666z" fill="#58595b" class="shade"/><path d="M418.674, 144.082C388.841, 60.383, 309.2, 0.498, 215.624, 0.498v143.584H418.674z" fill="#808184" class="shade"/><path d="M291.794, 117.012l22.571-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378s-12.378, 5.542-12.378, 12.378 c0, 2.671, 0.846, 5.144, 2.283, 7.166L291.794, 117.012z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M138.258, 117.012l22.571-29.15c1.438-2.022, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.144, 2.284, 7.166L138.258, 117.012z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M291.794, 239.722l22.571-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378s-12.378, 5.542-12.378, 12.378 c0, 2.671, 0.846, 5.145, 2.283, 7.166L291.794, 239.722z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M138.258, 239.722l22.571-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.145, 2.284, 7.166L138.258, 239.722z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M291.794, 368.094l22.571-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378s-12.378, 5.542-12.378, 12.378 c0, 2.671, 0.846, 5.145, 2.283, 7.166L291.794, 368.094z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/><path d="M138.258, 368.094l22.571-29.15c1.438-2.021, 2.283-4.495, 2.283-7.166 c0-6.836-5.542-12.378-12.378-12.378s-12.378, 5.542-12.378, 12.378c0-6.836-5.542-12.378-12.379-12.378 c-6.836, 0-12.378, 5.542-12.378, 12.378c0, 2.671, 0.846, 5.145, 2.284, 7.166L138.258, 368.094z" stroke-miterlimit="10" stroke="#FFFFFF" fill="none" class="heart"/></svg></div>';


var colors = {

    "color_fee600": {
    "shades": ["ffbd00", "FFFF3D","ffe600" , "ffd700" , "ffdf53", "f0da4f"],
        "animation": "triangle",
        "bg": "fe0000"
    },
    /* yellow */
    "color_FF6500": {
        "shades": [ "ff7a00",  "ff9c45", "f07400",  "ff5e00", "ff4900", "ff9d00"],
        "animation": "flower",
        "bg": "6e3bbe"
    },
     /* orange */
    "color_fe0000": {
        "shades": ["ff2f53","ff3838" ,"810000" , "b40000", "cc0033", "ff0000"],
        "animation": "circh",
        "bg": "01abff"
    },
     /*red*/
    "color_6f3cbf": {
        "shades": [ "7767c8",   "6f3bbe", "802780", "801f63", "5e1567", "440076"],
        "animation": "donut",
        "bg": "009e01"
    },
    "color_01abff": {
        "shades": ["2400ff","007eff" ,"86e2ff" , "00ceff", "000075", "004fff"],
        "animation": "hexa",
        "bg": "999999"
    },
    "color_009e01": {
        "shades": ["a0e900",  "006500", "009e34","008700", "86d979", "4eb800"],
        "animation": "pie",
        "bg": "fec700"
    },
    "color_414143": {
        "shades": ["a6a8ab","d0d2d3" ,"f1f1f2" , "231f20", "58595b", "808184"],
        "animation": "circv",
        "bg": "fe5e00"
    }
};

var game = function(x){
    this.x= x;
};
game.prototype = {
    init : function(){
                    var li_closed = false;
                    var result = '';
                    $.each(colors,function(k,v){
                        var ar = k.split('_');
                        var animation = v.animation;
                        if(animation == "flower"){
                            animation = flower;
                        }
                        else if(animation == "triangle"){
                            animation = traingle;
                        }
                        else if(animation == "donut"){
                            animation = donut;
                        }
                        else if(animation == "pie"){
                            animation = pie;
                        }
                        else if(animation == "circh"){
                            animation = circh;
                        }
                        else if(animation == "circv"){
                            animation = circv;
                        }
                        else if(animation == "hexa"){
                            animation = hexa;
                        }

                        var shade = ar[1];
                        var circle = "";
                        var class_name = "";
                        circle = circle +"<li bg-color='#"+ v.bg+"'><div class='circle'>"+animation+"<span class='colorMain' style='background: #" + shade + "'></span></div></li>";

                        result = result + circle;
                    });

                    $(".color-game ul").css("margin-top",ul_margin_top);
                    $(".color-game ul").append(result);
                    $(".color-game li").height(li_height);
                    var h = $(".color-game li div").height();
                    $(".color-game li div").width(h);
                    var bg_color = $(".color-game ul li:nth-child(2)").attr("bg-color");
                    $(".color-game").css({"background-color":bg_color, "transition-duration":1000});
    },

    slide_up: function(){
        var li = $(".color-game ul li:first-child");
        var bg_color = $(".color-game ul li:nth-child(3)").attr("bg-color");
        $(".color-game").css({"background-color":bg_color, "transition-duration":200});
        $(".color-game ul li:first-child").slideUp(500,function(){
            $(".color-game ul li:first-child").remove();
            $(".color-game ul").append(li);
            $(".color-game ul li:last-child").show();
        });

    },

    slide_down: function() {
        var bg_color = $(".color-game ul li:first-child").attr("bg-color");
        $(".color-game").css({"background-color":bg_color, "transition-duration":200});
        var li = $(".color-game ul li:last-child");
        $(".color-game ul li:last-child").remove();
        li.hide();
        $(".color-game ul").prepend(li);
        $(".color-game ul li:first-child").slideDown(500);
    }

};

$(document).ready(function(){
    $(".color-game").height(wh);
    //$(".color-game").css("margin-top",(li_height*0.373186119873817*-1));
    $(".color-game").css("margin-top","-79px");
    var obj = new game();
    obj.init();
    $(".color-game").swipe( {
        swipe:function(event, direction, distance, duration, fingerCount, fingerData) {
            if(direction=="up"){
                obj.slide_up();
                animate_circles();
            }
            if(direction=="down"){
                obj.slide_down();
                animate_circles();
            }
        }
    });
    setTimeout(function(){
        $(".game_message").css("background","none");
        setTimeout(function(){
            $(".game_message").fadeOut(1000);
        },500);

    },500);

    $(".journey").height(wh);

    animate_circles();


    $(".game_message .discard").click(function(){
        $(".game_message").fadeOut();
    });

    $(".game_message .accept").click(function(){
        $(".page_heading .page_name").html("STEP 2 OF 2");
        $(".user-color-shade").css("background-color","#"+color_shade);
        $(".user-color-shade-trans").css("background-color","rgba("+hexToRgb(color_shade)+",0.95"+")");
        $(".game_message").css("background-color","rgba("+hexToRgb(color_shade)+",0.95"+")");
        $(".game_message  p").html("CHOOSE YOUR INTERESTS");
        $(".game_message  span").hide();
        setTimeout(function(){
            $(".game_message").fadeIn();
            $(".color-game").hide();
            $(".choose_interests").fadeIn(1000);
        },1000);
    });
    $(".interest_listing li a").click(function(e){
        e.preventDefault();
    });
    $(".interest_listing li").click(function() {
        $(".interest_listing li").not(this).find(".interest_description").removeClass("active");
        var interest_detail = $(this).find(".interest_description");
        var current_obj = $(this).find("a");
        var link = current_obj.attr("href");
            if (!interest_detail.hasClass("active")) {
                //alert();
                interest_detail.addClass("active");
                $(this).find(".interest_like").show();

            }
            else {
            $(this).toggleClass("active");

            //alert("class : "+cls);
            $.ajax({
                url: link + '&s=' + new Date().getSeconds(),
                type: 'GET',
                success: function (response) {

                    current_obj.attr("href", response);
                    var obj = current_obj.closest("li");
                    if (obj.hasClass("add")){
                        obj.removeClass("add");
                        obj.addClass("remove");
                    }
                    else {
                        obj.removeClass("remove");
                        obj.addClass("active");
                        obj.addClass("add");
                    }
                    setTimeout(function(){
                        $(".interest_listing li").removeClass("active");
                        $(".interest_listing li").find(".interest_like").hide();
                        interest_detail.removeClass("active");
                    },500);
                    count_interests();
                }
            })
        }
    });
});

function animate_circles(){
    $(".color-game").find(".circle span").unbind("click");
    $(".color-game").find(".circle").removeClass("active");
    $(".color-game").find(".circle span").click(function(){
        $(this).parent().addClass("active");
        animate_circle_svgs();
    });
}

function animate_circle_svgs(){
    //alert();
    $(".color-game").find(".circle.active .shades svg path").unbind("click");
    $(".color-game").find(".circle.active .shades svg polygon").unbind("click");
    $(".bgsvg path.heart").css("fill","none");

    $(".color-game").find(".circle.active .shades svg path").click(function(){
        var path = $(this);

        $(".color-game").find(".circle .shades svg path").css("opacity",1);
        $(".color-game").find(".circle .shades svg path").mouseover(function(){
            $(".color-game").find(".circle .shades svg path").css("opacity",1);
            $(this).css("opacity",0);
            animate_circle_svgs();
        });
        path.css("opacity",0);
        $(".bgsvg path.heart").css("fill","#fff");
        update_color(path);
    });
    $(".color-game").find(".circle.active .shades svg polygon").click(function(){
        var path = $(this);
        $(".color-game").find(".circle .shades svg polygon").css("opacity",1);
        $(".color-game").find(".circle .shades svg polygon").mouseover(function(){
            $(".color-game").find(".circle .shades svg polygon").css("opacity",1);
            $(this).css("opacity",0);
            animate_circle_svgs();
        });
        path.css("opacity",0);
        $(".bgsvg path.heart").css("fill","#fff");
        update_color(path);
    });

}

function game_message(){
    $(".game_message p").html("CHOOSE THIS COLOR");
    $(".color-game").find(".circle").removeClass("active");
    $(".game_message .accept").fadeIn();
    $(".game_message .discard").fadeIn();
    $(".game_message").fadeIn(1000);
}


function update_color(path) {
    color_shade = path.attr("fill");
    color_shade = color_shade.replace("#", "");
    var style =  path.closest("li").find(".colorMain").attr("style");
    color_main = style.replace("background: #","");

    color_main = color_main.replace("#", "");
    $.ajax({
        url: root + 'rangoli/mage_wp_update_user_color.php',
        data: {
            'user_id': userId,
            'color_main': color_main,
            'color_shade': color_shade
        },
        success: function (resp) {
            game_message();
            $(".user-color-shade-text.smogi_bucks_journey").css("color","#"+color_shade);
            var charm_class = $(".your_color .charm").attr("class");
            var ar_charm = charm_class.split(" ");

            if(ar_charm.length == 3){
                var level = ar_charm[1];
                var color = color_main.toUpperCase();
                $(".your_color .charm").attr("class","charm color_"+color+" "+level);
            }
        }
    });
}


function getSelectedInterestCount(){
    var count = $(document).find(".interest_listing li.remove").length;
    return count;
}
function count_interests(){
    var count = getSelectedInterestCount();
    //alert(count);
    if(count >=3){
        $(".next-confirmation-page").text("Next");
    }else{
        $(".next-confirmation-page").text("Choose 3+");
    }
}


$(document).ready(function(){
    $(".buttons .choose_color").click(function(){
        $(".choose_interests").hide();
        $(".color-game").show();
        $(".game_message").css("background","none");
        setTimeout(function(){
            $(".game_message").fadeOut(1000);
        },500);
    });
    $(window).scrollTop(0);
    count_interests();
    $(".next-confirmation-page").click(function() {
        $(".page_heading .page_name").html("WELCOME");

        if (getSelectedInterestCount() >= 3) {
            $(".choose_interests").hide();
            $(".confirmation_page").fadeIn();
            $(window).scrollTop(0);
            var selected_interests = '';
            $(document).find(".interest_listing li.remove").each(function () {
                $(this).find("a").attr("href", "javascript:void(0);");
                selected_interests = selected_interests + '<li class="'+ $(this).attr("class")+ '">' + $(this).html() + '</li>';
            });
            $(".interests-selector .confirmed_interests ul").html(selected_interests);

        }
    });
});


/* /////////////////////////////////////////////////////// */
$(document).ready(function(){
    $(".edit_username").click(function(){
       $(".user_display_name").hide();
        $(".ch_username_block").slideToggle(0);
   });
    $(".close_cropper").click(function(){
        $(".modal").fadeOut();
    });
   $(".edit_pic").click(function(){
        $(".modal").fadeIn();
   });
    var cropperOptions = {
        imgEyecandy:true,
        imgEyecandyOpacity:0,
        uploadUrl:root+'rangoli/img_save_to_file.php',
        cropUrl:root+'rangoli/img_crop_to_file.php',
        onError:		function(errormsg){ console.log('onError:'+errormsg) },
        onAfterImgCrop: 	function(response){
                                $(".modal").fadeOut();
                                var src = $(".croppedImg").attr("src");
                                $("img.profile_pic,.profile_picture img ").attr("src",src);
                            }
    };

    var cropperHeader = new Croppic('croppic', cropperOptions);


/*
    var cropperHeaderOptions = {
        onBeforeImgUpload: 	function(){ console.log('onBeforeImgUpload') },
        onAfterImgUpload: 	function(){ alert(); },
        onImgDrag:		function(){ console.log('onImgDrag') },
        onImgZoom:		function(){ console.log('onImgZoom') },
        onBeforeImgCrop: 	function(){ console.log('onBeforeImgCrop') },
        onAfterImgCrop:		function(){ console.log('onAfterImgCrop') },
        onError:		function(errormsg){ console.log('onError:'+errormsg) }
    }
*/


});